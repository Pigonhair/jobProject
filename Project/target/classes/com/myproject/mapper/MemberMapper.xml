<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.myproject.mapper.MemberMapper">

	<!-- Mem_num 시퀀스 값 가져오기 -->
	<select id="selectMem_num" resultType="int">
		SELECT
		mem_num.nextval FROM dual
	</select>

	<!-- 멤버(회원가입) 등록 -->
	<insert id="insertMember">
		INSERT INTO MEMBER(m_num, m_id, m_pwd, m_name,
		m_address,
		m_phone,
		m_department,
		m_grade, m_img, cache, token, salt)
		VALUES
		(#{m_num},
		#{m_id},
		#{m_pwd}, #{m_name}, #{m_address}, #{m_phone},
		#{m_department},
		'1', #{m_img},
		#{cache}, #{token},#{salt})
	</insert>

	<!-- 멤버(로그인) -->
	<select id="checkMemberIdPwd" resultType="MemberVO" parameterType="map">
		SELECT * FROM MEMBER WHERE M_ID = #{m_id} AND M_PWD = #{m_pwd} 
	</select>
	
	<!-- ID중복체크 -->
	<select id="IdCheck" resultType="MemberVO">
		SELECT * FROM MEMBER WHERE M_ID = #{m_id}
	</select>
	
	<!-- ID중복체크 -->
	<select id="SaltCheck" resultType="MemberVO">
		SELECT salt FROM MEMBER WHERE M_ID = #{m_id}
	</select>
	
	<!-- 사용자 리스트 -->
	<select id="UserList" resultType="HashMap">
		SELECT * FROM MEMBER
	</select>
	
	
	
</mapper>